{% extends "base.html" %}

{% block title %}{{ event.title }}{% endblock %}

{% block content %}
<h1 class="text-3xl font-bold mb-4">{{ event.title }}</h1>

<p><strong>Show:</strong> <button onclick="window.location='{% url 'show-detail' event.show.id %}'" class="bg-blue-600 text-white px-3 py-1 rounded cursor-pointer">{{ event.show.title }}</button></p>
<p><strong>Type:</strong> {{ event.get_event_type_display }}</p>
<p><strong>Description:</strong> {{ event.description|default:"None" }}</p>

<h2 class="text-xl font-semibold mt-6 mb-2">Participants</h2>
<button onclick="window.location='{% url 'eventparticipant-add' event.id %}'" class="bg-black text-white px-4 py-2 rounded mt-4 inline-block cursor-pointer">
    Add Participant
</button>
<ul class="list-disc pl-5">
    {% for ep in participants %}
        <li>
            <button onclick="window.location='{% url 'character-detail' ep.character.id %}'" class="bg-blue-600 text-white px-2 py-1 rounded cursor-pointer">{{ ep.character.ring_name }}</button>
            - Role: {{ ep.get_role_display }}
        </li>
    {% empty %}
        <li>No participants yet.</li>
    {% endfor %}
</ul>

<div class="mt-4 flex gap-2">
    <button onclick="window.location='{% url 'event-edit' event.id %}'" class="bg-gray-700 text-white px-4 py-2 rounded cursor-pointer">
        Edit Event
    </button>
    <button onclick="window.location='{% url 'event-delete' event.id %}'" class="bg-red-600 text-white px-4 py-2 rounded cursor-pointer">
        Delete Event
    </button>
</div>

<p>
<button onclick="window.location='{% url 'show-detail' event.show.id %}'" 
    class="bg-blue-600 text-white px-3 py-1 rounded cursor-pointer">
        Back to show
    </button>
</p>
{% endblock %}
